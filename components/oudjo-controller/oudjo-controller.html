<!doctype html>
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/layout/layout.html">

<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">
<link rel="import" href="../../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../../bower_components/iron-icons/iron-icons.html">
<link rel="import" href="../../bower_components/iron-icons/av-icons.html">
<link rel="import" href="../../bower_components/paper-material/paper-material.html">
<link rel="import" href="../../bower_components/paper-styles/paper-styles.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-progress/paper-progress.html">
<link rel="import" href="../../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../../bower_components/paper-slider/paper-slider.html">

<link rel="import" href="../oudjo-album-art/oudjo-album-art.html">

<dom-module id="oudjo-controller">
  <style>

  #container {
    @apply(--layout-horizontal);
    @apply(--layout-center-justified);

    width: 100%;
  }

  #card {
    background: var(--default-primary-color);
  }

  #song-info {
    padding: 16px;
    background: var(--accent-color);

    @apply(--layout-vertical);
  }

  #song-title {
    @apply(--paper-font-display1);
    color: var(--primary-text-color);

    margin-bottom: 4px;

    white-space: nowrap;
    -webkit-mask-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 1) 75%, rgba(0, 0, 0, 0) 95%);
  }

  #song-artist {
    @apply(--paper-font-headline);
    color: var(--secondary-text-color);

    white-space: nowrap;
    -webkit-mask-image: -webkit-linear-gradient(left, rgba(0, 0, 0, 1) 75%, rgba(0, 0, 0, 0) 95%);
  }

  .control-button {
    margin-left: 0px;
    margin-right: 0px;

    @apply(--paper-font-button);
    color: var(--accent-color);
  }

  #song-progress {
    --paper-progress-active-color: var(--accent-color);
  }

  #button-repeat {
    margin: 5px;
    color: var(--accent-color);
  }

  #button-mute {
    margin: 5px;
    color: var(--accent-color);
  }

  #button-mute::shadow paper-ripple {
    color: var(--accent-color);
  }

  #slider-volume {
    --paper-slider-active-color: var(--accent-color);
    --paper-slider-knob-color: var(--accent-color);
  }

  @media(orientation:landscape) {
    #card {
      @apply(--layout-horizontal);
      max-width: 720px;
      width: 100%;
    }
  }

  @media(orientation:portrait) {
    #card {
      @apply(--layout-vertical);
      width: 100%;
    }
  }

  </style>

  <template>
    <div id="container">
      <paper-material id="card" elevation="1">
        <!-- Album art -->
        <oudjo-album-art id="album-art" tween-arts></oudjo-album-art>
        <div class="vertical layout flex">
          <!-- Song info -->
          <paper-material id="song-info" elevation="1">
            <div id="song-title">{{ songTitle }}</div>
            <div id="song-artist">{{ songArtist }}</div>
          </paper-material>
          <!-- Control buttons -->
          <div class="layout horizontal">
            <paper-button class="control-button" on-click="_buttonPreviousClick">
              <iron-icon icon="av:skip-previous"></iron-icon>
            </paper-button>
            <paper-button class="control-button" on-click="_buttonStopClick">
              <iron-icon icon="av:stop"></iron-icon>
            </paper-button>
            <paper-button class="control-button flex" on-click="_buttonPlayClick">
              <iron-icon id="icon-play" icon="av:play-arrow"></iron-icon>
            </paper-button>
            <paper-button class="control-button" on-click="_buttonNextClick">
              <iron-icon icon="av:skip-next"></iron-icon>
            </paper-button>
          </div>
          <!-- Playback progress -->
          <div class="layout horizontal">
            <paper-progress id="song-progress" class="flex"></paper-progress>
          </div>
          <!-- Volume controls -->
          <div class="layout horizontal">
            <paper-icon-button
              id="button-repeat"
              icon="av:loop"
              on-click="_buttonRepeatClick">
            </paper-icon-button>
            <paper-icon-button
              id="button-mute"
              icon="av:volume-up"
              on-click="_buttonMuteClick">
            </paper-icon-button>
            <paper-slider
              id="slider-volume"
              class="self-center flex"
              value="100">
            </paper-slider>
          </div>
        </div>
      </paper-material>
    </div>
  </template>
</dom-module>

<script src="oudjo-controller.js"></script>
